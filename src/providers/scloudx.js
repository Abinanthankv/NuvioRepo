/**
 * scloudx - Built from src/scloudx/
 * Generated: 2026-01-12T07:34:37.359Z
 */
var L=Object.defineProperty,B=Object.defineProperties;var U=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;var y=(e,t,l)=>t in e?L(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,T=(e,t)=>{for(var l in t||(t={}))b.call(t,l)&&y(e,l,t[l]);if(x)for(var l of x(t))v.call(t,l)&&y(e,l,t[l]);return e},A=(e,t)=>B(e,U(t));var p=(e,t,l)=>new Promise((a,r)=>{var i=o=>{try{s(l.next(o))}catch(c){r(c)}},n=o=>{try{s(l.throw(o))}catch(c){r(c)}},s=o=>o.done?a(o.value):Promise.resolve(o.value).then(i,n);s((l=l.apply(e,t)).next())});var z=require("cheerio-without-node-native"),M="1b3113663c9004682ed61086cf967c44",R="https://api.themoviedb.org/3",$="https://scloudx.lol",D={"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",Referer:`${$}/`,Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8","Accept-Language":"en-US,en;q=0.5"};function m(a){return p(this,arguments,function*(e,t={},l=1e4){let r=new AbortController,i=setTimeout(()=>r.abort(),l);try{let n=yield fetch(e,A(T({},t),{signal:r.signal,redirect:"follow"}));return clearTimeout(i),n}catch(n){throw clearTimeout(i),n.name==="AbortError"?new Error(`Request timeout after ${l}ms`):n}})}function _(e){return e?e.toLowerCase().split(" ").map(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}).join(" "):""}function k(e,t){let l=_(e.title||"Unknown"),a=e.year||"",r=t.size||"",i="HD",n=t.title.match(/\b(2160p|1080p|720p|480p|360p|4K)\b/i);n&&(i=n[0]);let s="",o=t.title.toLowerCase();o.includes("bluray")||o.includes("brrip")?s="BluRay":o.includes("web-dl")?s="WEB-DL":o.includes("webrip")?s="WEBRip":o.includes("hdrip")?s="HDRip":o.includes("dvdrip")?s="DVDRip":o.includes("hdtv")&&(s="HDTV");let c="",u=o.match(/s(\d+)/i),h=o.match(/e(\d+)/i);u&&(c+=` S${u[1].padStart(2,"0")}`),h&&(c+=` E${h[1].padStart(2,"0")}`);let d=s?`\u{1F4F9}: ${s}
`:"",g=r?`\u{1F4BE}: ${r} | \u{1F69C}: scloudx
`:"",S=a&&a!=="N/A"?` ${a}`:"",f="ENGLISH";return/hindi/i.test(o)?f="HINDI":/tamil/i.test(o)?f="TAMIL":/telugu/i.test(o)?f="TELUGU":/malayalam/i.test(o)?f="MALAYALAM":/multi/i.test(o)&&(f="MULTI AUDIO"),`Scloudx (Instant) (${i})
${d}\u{1F4FC}: ${l}${S}${c} ${i}
${g}\u{1F310}: ${f}`}function N(e,t){return p(this,null,function*(){let a=`${R}/${t==="movie"?"movie":"tv"}/${e}?api_key=${M}`;try{let r=yield m(a,{},8e3);if(!r.ok)throw new Error(`HTTP ${r.status}`);let i=yield r.json(),n={title:i.title||i.name,year:(i.release_date||i.first_air_date||"").split("-")[0]};return console.log(`[Scloudx] TMDB Info: "${n.title}" (${n.year||"N/A"})`),n}catch(r){throw console.error("[Scloudx] Error fetching TMDB metadata:",r.message),r}})}function C(e,t){return p(this,null,function*(){let a=`${R}/search/${t==="movie"?"movie":"tv"}?api_key=${M}&query=${encodeURIComponent(e)}`;try{console.log(`[Scloudx] Searching TMDB for: "${e}"`);let r=yield m(a,{},8e3);if(!r.ok)throw new Error(`HTTP ${r.status}`);let i=yield r.json();if(i.results&&i.results.length>0){let n=i.results[0],s={title:n.title||n.name,year:(n.release_date||n.first_air_date||"").split("-")[0]};return console.log(`[Scloudx] TMDB Search Result: "${s.title}" (${s.year||"N/A"})`),s}return console.log(`[Scloudx] No TMDB results found for "${e}"`),null}catch(r){return console.error("[Scloudx] Error searching TMDB:",r.message),null}})}function H(e,t,l=null,a=null){return p(this,null,function*(){console.log(`[Scloudx] Searching for: "${e}" (type: ${t}, S:${l}, E:${a})`);try{let r=e;t==="tv"&&l!==null&&(r+=` s${String(l).padStart(2,"0")}`,a!==null&&(r+=` e${String(a).padStart(2,"0")}`));let i=`${$}/search/${encodeURIComponent(r)}`;console.log(`[Scloudx] Search URL: ${i}`);let n=yield m(i,{headers:D},15e3);if(!n.ok)return console.error(`[Scloudx] Search failed with status: ${n.status}`),[];let s=yield n.text();if(s.includes("Just a moment")||s.includes("challenge-platform"))return console.error("[Scloudx] Cloudflare challenge detected - cannot proceed with simple fetch"),[];let o=z.load(s),c=[];return o("div.result-item").each((u,h)=>{let d=o(h),g=d.find("h3.result-title").text().trim(),S=d.attr("data-size"),f=d.find("input.copy-checkbox").attr("data-url"),w=d.find('a[href^="/file/"]').attr("href");g&&f&&c.push({title:g,size:S,url:f,detailLink:w?`${$}${w}`:null})}),console.log(`[Scloudx] Found ${c.length} results`),c}catch(r){return console.error("[Scloudx] Search error:",r.message),[]}})}function E(e,t,l,a){return p(this,null,function*(){t==="movie"&&(l=null,a=null),console.log(`[Scloudx] Processing ${t} ${e} (S:${l}, E:${a})`);try{let r;if(/^\d+$/.test(e))try{r=yield N(e,t)}catch(c){r={title:e,year:null}}else try{r=(yield C(e,t))||{title:e,year:null}}catch(c){r={title:e,year:null}}let n=yield H(r.title,t,l,a);if(n.length===0)return console.warn("[Scloudx] No search results found"),[];if(t==="tv"&&l!==null){let c=new RegExp(`s0*${l}`,"i");if(n=n.filter(u=>c.test(u.title)),a!==null){let u=new RegExp(`e0*${a}`,"i");n=n.filter(h=>u.test(h.title))}}console.log(`[Scloudx] After filtering: ${n.length} results`);let o=n.slice(0,10).map(c=>{var u;return{name:"Scloudx",title:k(r,c),url:c.url,quality:((u=c.title.match(/\b(2160p|1080p|720p|480p|360p|4K)\b/i))==null?void 0:u[0])||"HD",headers:{Referer:$,"User-Agent":D["User-Agent"]},provider:"Scloudx"}});return console.log(`[Scloudx] Found ${o.length} final streamable links`),o}catch(r){return console.error("[Scloudx] Error in getStreams:",r.message),[]}})}typeof module!="undefined"&&module.exports?module.exports={getStreams:E}:global.getStreams={getStreams:E};
