/**
 * scloudx - Built from src/scloudx/
 * Generated: 2026-01-12T08:14:56.224Z
 */
var M=Object.defineProperty,I=Object.defineProperties;var k=Object.getOwnPropertyDescriptors;var N=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var R=(t,e,n)=>e in t?M(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,A=(t,e)=>{for(var n in e||(e={}))B.call(e,n)&&R(t,n,e[n]);if(N)for(var n of N(e))O.call(e,n)&&R(t,n,e[n]);return t},E=(t,e)=>I(t,k(e));var U=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var p=(t,e,n)=>new Promise((c,o)=>{var i=r=>{try{a(n.next(r))}catch(s){o(s)}},l=r=>{try{a(n.throw(r))}catch(s){o(s)}},a=r=>r.done?c(r.value):Promise.resolve(r.value).then(i,l);a((n=n.apply(t,e)).next())});var x=U((P,_)=>{_.exports={CF_CLEARANCE:"vpyWZLai7NjRmIKrDaQCNNVAAKeub0mkojFq3K6_Or8-1768205402-1.2.1.1-3XnmxZDAINXfLTDo07AgqoTSvOziyrV8ghRGH_aB2sv2VvXRADMmyGgeA0oQKMyCb8Y4vQszPiQ4GiGed5pBQNVvACOQ7Qbi8WR7A2hUHa9Vo36_rvIEPXX4KV7gO.waAonRmj6JYNKfc80LBYEm.4Bo_9gCnpTfEnki1uCbNGdNqnWtEvXP.w4ayv8Hsw64CwHRs.MBXccQiefNnOK8pJQpD0S3ZuINee.WMFSCqws02cRX200fim8n_EXED6bc",ALL_COOKIES:"cf_clearance=vpyWZLai7NjRmIKrDaQCNNVAAKeub0mkojFq3K6_Or8-1768205402-1.2.1.1-3XnmxZDAINXfLTDo07AgqoTSvOziyrV8ghRGH_aB2sv2VvXRADMmyGgeA0oQKMyCb8Y4vQszPiQ4GiGed5pBQNVvACOQ7Qbi8WR7A2hUHa9Vo36_rvIEPXX4KV7gO.waAonRmj6JYNKfc80LBYEm.4Bo_9gCnpTfEnki1uCbNGdNqnWtEvXP.w4ayv8Hsw64CwHRs.MBXccQiefNnOK8pJQpD0S3ZuINee.WMFSCqws02cRX200fim8n_EXED6bc",USER_AGENT:"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36",CLIENT_HINTS:{"sec-ch-ua":'"Not)A;Brand";v="8", "Chromium";v="138", "Google Chrome";v="138"',"sec-ch-ua-mobile":"?0","sec-ch-ua-platform":'"Linux"',"sec-ch-ua-arch":'"x86"',"sec-ch-ua-bitness":'"64"',"sec-ch-ua-full-version":"138.0.7204.173","sec-ch-ua-full-version-list":'"Not)A;Brand";v="8.0.0.0", "Chromium";v="138.0.7204.173", "Google Chrome";v="138.0.7204.173"',"sec-ch-ua-platform-version":'"6.18.3"'},MAIN_URL:"https://scloudx.lol",COOKIE_REFRESH_HOURS:24}});var K=require("cheerio-without-node-native"),f=x(),v="1b3113663c9004682ed61086cf967c44",T="https://api.themoviedb.org/3",S=f.MAIN_URL||"https://scloudx.lol";function H(){let e={"User-Agent":f.USER_AGENT||"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",Referer:`${S}/`,Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8","Accept-Language":"en-US,en;q=0.5","Accept-Encoding":"gzip, deflate, br",Connection:"keep-alive","Upgrade-Insecure-Requests":"1","Sec-Fetch-Dest":"document","Sec-Fetch-Mode":"navigate","Sec-Fetch-Site":"same-origin","Sec-Fetch-User":"?1",DNT:"1"};return f.CLIENT_HINTS&&Object.assign(e,f.CLIENT_HINTS),f.ALL_COOKIES&&f.ALL_COOKIES.length>20?(e.Cookie=f.ALL_COOKIES,console.log("[Scloudx] Using ALL_COOKIES from config")):f.CF_CLEARANCE&&f.CF_CLEARANCE.length>20&&f.CF_CLEARANCE!=="YOUR_CF_CLEARANCE_COOKIE_HERE"?(e.Cookie=`cf_clearance=${f.CF_CLEARANCE}`,console.log("[Scloudx] Using configured cf_clearance cookie")):console.warn("[Scloudx] No Cloudflare cookies configured - requests will likely be blocked"),e}var b=H();function C(c){return p(this,arguments,function*(t,e={},n=1e4){let o=new AbortController,i=setTimeout(()=>o.abort(),n);try{let l=yield fetch(t,E(A({},e),{signal:o.signal,redirect:"follow"}));return clearTimeout(i),l}catch(l){throw clearTimeout(i),l.name==="AbortError"?new Error(`Request timeout after ${n}ms`):l}})}function q(t){return t?t.toLowerCase().split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" "):""}function z(t,e){let n=q(t.title||"Unknown"),c=t.year||"",o=e.size||"",i="HD",l=e.title.match(/\b(2160p|1080p|720p|480p|360p|4K)\b/i);l&&(i=l[0]);let a="",r=e.title.toLowerCase();r.includes("bluray")||r.includes("brrip")?a="BluRay":r.includes("web-dl")?a="WEB-DL":r.includes("webrip")?a="WEBRip":r.includes("hdrip")?a="HDRip":r.includes("dvdrip")?a="DVDRip":r.includes("hdtv")&&(a="HDTV");let s="",u=r.match(/s(\d+)/i),h=r.match(/e(\d+)/i);u&&(s+=` S${u[1].padStart(2,"0")}`),h&&(s+=` E${h[1].padStart(2,"0")}`);let $=a?`\u{1F4F9}: ${a}
`:"",m=o?`\u{1F4BE}: ${o} | \u{1F69C}: scloudx
`:"",g=c&&c!=="N/A"?` ${c}`:"",d="ENGLISH";return/hindi/i.test(r)?d="HINDI":/tamil/i.test(r)?d="TAMIL":/telugu/i.test(r)?d="TELUGU":/malayalam/i.test(r)?d="MALAYALAM":/multi/i.test(r)&&(d="MULTI AUDIO"),`Scloudx (Instant) (${i})
${$}\u{1F4FC}: ${n}${g}${s} ${i}
${m}\u{1F310}: ${d}`}function G(t,e){return p(this,null,function*(){let c=`${T}/${e==="movie"?"movie":"tv"}/${t}?api_key=${v}`;try{let o=yield C(c,{},8e3);if(!o.ok)throw new Error(`HTTP ${o.status}`);let i=yield o.json(),l={title:i.title||i.name,year:(i.release_date||i.first_air_date||"").split("-")[0]};return console.log(`[Scloudx] TMDB Info: "${l.title}" (${l.year||"N/A"})`),l}catch(o){throw console.error("[Scloudx] Error fetching TMDB metadata:",o.message),o}})}function Q(t,e){return p(this,null,function*(){let c=`${T}/search/${e==="movie"?"movie":"tv"}?api_key=${v}&query=${encodeURIComponent(t)}`;try{console.log(`[Scloudx] Searching TMDB for: "${t}"`);let o=yield C(c,{},8e3);if(!o.ok)throw new Error(`HTTP ${o.status}`);let i=yield o.json();if(i.results&&i.results.length>0){let l=i.results[0],a={title:l.title||l.name,year:(l.release_date||l.first_air_date||"").split("-")[0]};return console.log(`[Scloudx] TMDB Search Result: "${a.title}" (${a.year||"N/A"})`),a}return console.log(`[Scloudx] No TMDB results found for "${t}"`),null}catch(o){return console.error("[Scloudx] Error searching TMDB:",o.message),null}})}function X(t,e,n=null,c=null){return p(this,null,function*(){console.log(`[Scloudx] Searching for: "${t}" (type: ${e}, S:${n}, E:${c})`);try{let o=t;e==="tv"&&n!==null&&(o+=` s${String(n).padStart(2,"0")}`,c!==null&&(o+=` e${String(c).padStart(2,"0")}`));let i=`${S}/get-search-token`;console.log(`[Scloudx] Getting search token from: ${i}`);let l=E(A({},b),{"Content-Type":"application/x-www-form-urlencoded"}),a=`search_query=${encodeURIComponent(o)}`,r=yield C(i,{method:"POST",headers:l,body:a,redirect:"follow"},15e3);if(!r.ok&&r.status!==302)return console.error(`[Scloudx] Token retrieval failed with status: ${r.status}`),[];let s=yield r.text();if(s.includes("Just a moment")||s.includes("challenge-platform"))return console.error("[Scloudx] Cloudflare challenge detected - cannot proceed with simple fetch"),[];let u=K.load(s),h=[];return u("div.result-item").each(($,m)=>{let g=u(m),d=g.find("h3.result-title").text().trim(),D=g.attr("data-size"),w=g.find("input.copy-checkbox").attr("data-url"),y=g.find('a[href^="/file/"]').attr("href");d&&w&&h.push({title:d,size:D,url:w,detailLink:y?`${S}${y}`:null})}),console.log(`[Scloudx] Found ${h.length} results`),h}catch(o){return console.error("[Scloudx] Search error:",o.message),[]}})}function L(t,e,n,c){return p(this,null,function*(){e==="movie"&&(n=null,c=null),console.log(`[Scloudx] Processing ${e} ${t} (S:${n}, E:${c})`);try{let o;if(/^\d+$/.test(t))try{o=yield G(t,e)}catch(s){o={title:t,year:null}}else try{o=(yield Q(t,e))||{title:t,year:null}}catch(s){o={title:t,year:null}}let l=yield X(o.title,e,n,c);if(l.length===0)return console.warn("[Scloudx] No search results found"),[];if(e==="tv"&&n!==null){let s=new RegExp(`s0*${n}`,"i");if(l=l.filter(u=>s.test(u.title)),c!==null){let u=new RegExp(`e0*${c}`,"i");l=l.filter(h=>u.test(h.title))}}console.log(`[Scloudx] After filtering: ${l.length} results`);let r=l.slice(0,10).map(s=>{var u;return{name:"Scloudx",title:z(o,s),url:s.url,quality:((u=s.title.match(/\b(2160p|1080p|720p|480p|360p|4K)\b/i))==null?void 0:u[0])||"HD",headers:{Referer:S,"User-Agent":b["User-Agent"]},provider:"Scloudx"}});return console.log(`[Scloudx] Found ${r.length} final streamable links`),r}catch(o){return console.error("[Scloudx] Error in getStreams:",o.message),[]}})}typeof module!="undefined"&&module.exports?module.exports={getStreams:L}:global.getStreams={getStreams:L};
