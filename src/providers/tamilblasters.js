/**
 * tamilblasters - Built from src/tamilblasters/
 * Generated: 2026-01-18T07:45:15.364Z
 */
var K=Object.defineProperty,Q=Object.defineProperties;var J=Object.getOwnPropertyDescriptors;var j=Object.getOwnPropertySymbols;var Z=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable;var H=(s,t,e)=>t in s?K(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,F=(s,t)=>{for(var e in t||(t={}))Z.call(t,e)&&H(s,e,t[e]);if(j)for(var e of j(t))V.call(t,e)&&H(s,e,t[e]);return s},_=(s,t)=>Q(s,J(t));var I=(s,t,e)=>new Promise((r,l)=>{var h=i=>{try{d(e.next(i))}catch(p){l(p)}},n=i=>{try{d(e.throw(i))}catch(p){l(p)}},d=i=>i.done?r(i.value):Promise.resolve(i.value).then(h,n);d((e=e.apply(s,t)).next())});var W=require("cheerio-without-node-native"),tt="1b3113663c9004682ed61086cf967c44",et="https://api.themoviedb.org/3",D="https://1tamilblasters.bz",A={"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:147.0) Gecko/20100101 Firefox/147.0",Referer:`${D}/`,Accept:"*/*","Accept-Language":"en-US,en;q=0.9","Sec-Fetch-Dest":"empty","Sec-Fetch-Mode":"cors","Sec-Fetch-Site":"cross-site"};function R(r){return I(this,arguments,function*(s,t={},e=1e4){let l=new AbortController,h=setTimeout(()=>l.abort(),e);try{let n=yield fetch(s,_(F({},t),{signal:l.signal}));return clearTimeout(h),n}catch(n){throw clearTimeout(h),n}})}function st(e){return I(this,arguments,function*(s,t={}){try{let r=yield R(s,{method:"GET",headers:t},5e3);return r.ok||r.status===206}catch(r){return!1}})}function rt(s){try{return typeof atob!="undefined"?atob(s.trim()):Buffer.from(s.trim(),"base64").toString("binary")}catch(t){return null}}function nt(s,t,e,r){for(;e--;)r[e]&&(s=s.replace(new RegExp("\\b"+e.toString(t)+"\\b","g"),r[e]));return s}function O(s){return(s||"").toLowerCase().replace(/[^a-z0-9\s]/g,"").replace(/\s+/g," ").trim()}function C(s,t){let e=O(s),r=O(t);if(e===r)return 1;if(e.includes(r)||r.includes(e))return .9;let l=new Set(e.split(/\s+/).filter(i=>i.length>2)),h=new Set(r.split(/\s+/).filter(i=>i.length>2));if(l.size===0||h.size===0)return 0;let n=new Set([...l].filter(i=>h.has(i))),d=new Set([...l,...h]);return n.size/d.size}var U=class{static extract(t,e=0){return I(this,null,function*(){if(e>2)return null;try{let l=yield(yield R(t,{headers:_(F({},A),{Referer:D})},5e3)).text(),h=new URL(t).origin,n=l.match(new RegExp("eval\\(function\\(p,a,c,k,e,d\\)\\{.*?\\}\\s*\\((.*)\\)\\s*\\)","s"));if(n){let a=n[1].trim().match(new RegExp("^'(.*)',\\s*(\\d+),\\s*(\\d+),\\s*'(.*?)'\\.split\\(","s"));a&&(l+=`
`+nt(a[1],parseInt(a[2]),parseInt(a[3]),a[4].split("|")))}let d=[/["']hls[2-4]["']\s*:\s*["']([^"']+)["']/gi,/sources\s*:\s*\[\s*{\s*file\s*:\s*["']([^"']+)["']/gi,/https?:\/\/[^\s"']+\.m3u8[^\s"']*/gi,/["'](\/[^\s"']+\.m3u8[^\s"']*)["']/gi,/["']?file["']?\s*:\s*["']([^"']+)["']/gi],i=[];for(let a of d){let c=l.match(a);c&&c.forEach(S=>{let E=S.replace(/^.*?["']/,"").replace(/["'].*$/,"");E.startsWith("/")&&!E.startsWith("//")&&(E=h+E),(E.includes(".m3u8")||E.includes(".mp4"))&&i.push(E)})}let p=l.match(/[A-Za-z0-9+/]{24,}=*/g);if(p&&p.forEach(a=>{let c=rt(a);c&&(c.includes(".m3u8")||c.startsWith("http"))&&i.push(c)}),i.length>0){i.sort((c,S)=>(S.includes("?")?1:0)-(c.includes("?")?1:0)||S.length-c.length);let a=i[0];return console.log(`[Tamilblasters] Winner Discovered: ${a}`),yield this.resolveManifest(a,t)}let k=l.matchAll(/href\s*=\s*["'](https?:\/\/[^"']*\/(?:stream|file|d|v|e)\/[^"']+)["']/gi);for(let a of k){console.log(`[Tamilblasters] Following Discovery Jump: ${a[1]}`);let c=yield this.extract(a[1],e+1);if(c)return c}return null}catch(r){return null}})}static resolveManifest(t,e){return I(this,null,function*(){try{let r=new URL(e).origin+"/",h=yield(yield R(t,{headers:_(F({},A),{Referer:r})},5e3)).text(),n=[],d=[],i=new URL(t).search,p=h.matchAll(/#EXT-X-MEDIA:TYPE=AUDIO.*?NAME="([^"]+)"/g);for(let a of p)d.includes(a[1])||d.push(a[1]);let k=h.matchAll(/#EXT-X-STREAM-INF:.*?RESOLUTION=\d+x(\d+).*?\n(.*)/gi);for(let a of k){let c=a[2].trim();c.startsWith("http")||(c=t.substring(0,t.lastIndexOf("/")+1)+c),i&&!c.includes("?")&&(c+=i),n.push({url:c,quality:this.heightToQuality(a[1])})}return{url:(n.length>0,t),quality:n.length>0?n[0].quality:"Unknown",audios:d,referer:r,origin:new URL(r).origin}}catch(r){return null}})}static heightToQuality(t){return t=parseInt(t),t>=2160?"4K":t>=1080?"1080p":t>=720?"720p":t>=480?"480p":t+"p"}};function X(s){return I(this,null,function*(){console.log(`[Tamilblasters] Searching for: ${s}`);try{let t=`${D}/index.php?/search/&q=${encodeURIComponent(s)}&quick=1`,r=yield(yield R(t,{headers:A})).text(),l=W.load(r),h=[];return l(".ipsStreamItem_title a").each((n,d)=>{let i=l(d),p=i.attr("href");p&&p.includes("/forums/topic/")&&h.push({title:i.text().trim(),id:p,href:p})}),h}catch(t){return console.error(`[Tamilblasters] Search error: ${t.message}`),[]}})}function Y(s,t,e=null,r=null){return I(this,null,function*(){let l=t==="tv"||t==="tvshow"?"tv":"movie";l==="movie"&&(e=null,r=null);let h=/^\d+$/.test(String(s));console.log(`[Tamilblasters] \u{1F680} Starting High-Speed Fetch for ${l}: ${s}`);try{let n={title:s,year:null};if(h){let m=0;for(;m<3;)try{let f=yield R(`${et}/${l}/${s}?api_key=${tt}`);if(!f.ok)throw new Error(`HTTP ${f.status}`);let o=yield f.json();n={title:o.title||o.name,year:(o.release_date||o.first_air_date||"").split("-")[0]},console.log(`[Tamilblasters] TMDB Resolved: ${n.title} (${n.year})`);break}catch(f){m++,console.log(`[Tamilblasters] TMDB Attempt ${m} failed: ${f.message}`),m<3&&(yield new Promise(o=>setTimeout(o,1e3)))}}let d=`${D}/index.php?/search/&q=${encodeURIComponent(n.title)}&quick=1`,p=yield(yield R(d,{headers:A})).text(),k=W.load(p),a=[];if(k(".ipsStreamItem_title a").each((m,f)=>{let o=k(f);o.length&&a.push({title:o.text().trim(),href:o.attr("href")})}),a.length===0&&h){console.log("[Tamilblasters] 0 results for title, trying numeric search...");let f=yield(yield R(`${D}/index.php?/search/&q=${s}&quick=1`,{headers:A})).text(),o=W.load(f);o(".ipsStreamItem_title a").each((M,y)=>{let L=o(y);L.length&&a.push({title:L.text().trim(),href:L.attr("href")})})}console.log(`[Tamilblasters] Found ${a.length} search results`);let c=a.filter(m=>{let f=C(n.title,m.title),o=!n.year||l==="tv"||m.title.includes(n.year);return console.log(`[Tamilblasters] Candidate Match: "${m.title}" (Score: ${f.toFixed(2)}, YearMatch: ${o})`),f>.4&&o}).sort((m,f)=>{let o=m.title.toLowerCase().includes("watch online")?1:0,M=f.title.toLowerCase().includes("watch online")?1:0;return o!==M?M-o:C(n.title,f.title)-C(n.title,m.title)}).slice(0,8);if(c.length===0)return[];let S=[],E=30;return yield Promise.all(c.map(m=>I(this,null,function*(){try{let o=yield(yield R(m.href,{headers:A})).text(),M=W.load(o),y=M("h1.entry-title").text().trim()||m.title,L=y.match(/\(?(\d{4})\)?/),G=L?L[1]:n.year||"N/A",B=[];M("iframe").each((g,P)=>{let x=M(P).attr("src");if(!x||x.includes("google")||x.includes("youtube"))return;let T=`Stream ${g+1}`,b=M(P);for(let q=0;q<5;q++){let v=b.prev();if(v.length===0){if(b=b.parent(),!b.length||b.is("body"))break;continue}let w=v.text().trim();if(w.toLowerCase().includes("episode")||w.match(/EP\d+/i)||w.match(/\(\d+-\d+\)/)){T=w;break}b=v}console.log(`[Tamilblasters] Found Embed: ${x.substring(0,30)}... (Label: ${T})`),B.push({url:x,label:T})}),yield Promise.all(B.map(g=>I(this,null,function*(){if(S.length>=E)return;let P=g.label.match(/S(\d+)/i)||g.label.match(/Season\s*(\d+)/i),x=g.label.match(/E(\d+)/i)||g.label.match(/Episode\s*(\d+)/i)||g.label.match(/EP\s*(\d+)/i)||g.label.match(/–\s*(\d+)/),T=P?parseInt(P[1]):null,b=x?parseInt(x[1]):null;if(T===null){let u=y.match(/S(\d+)/i)||y.match(/Season\s*(\d+)/i);u&&(T=parseInt(u[1]))}if(b===null){let u=y.match(/E(\d+)/i)||y.match(/Episode\s*(\d+)/i)||y.match(/EP\s*(\d+)/i);u&&(b=parseInt(u[1]))}if(e!==null&&T!==null&&T!==e)return;if(r!==null){if(b!==null&&b!==r){let u=g.label.match(/(\d+)-(\d+)/);if(u){let $=parseInt(u[1]),z=parseInt(u[2]);if(r<$||r>z)return}else return}if(b===null){let u=y.match(/EP\((\d+)-(\d+)\)/)||y.match(/\((\d+)-(\d+)\)/);if(u){let $=parseInt(u[1]),z=parseInt(u[2]);if(r<$||r>z)return}}}let q=T!==null?T:e,v=b!==null?b:r,w=yield U.extract(g.url);if(!w)return;let N=_(F({},A),{Referer:w.referer,Origin:w.origin});if(yield st(w.url,N)){let u=n.title;if(l==="tv"){let $=g.label.replace(/^(?:Episode|EP|S\d+E\d+)\s*\d*\s*[–-]?\s*/i,"").trim();q!==null&&v!==null?(u+=` - S${q} E${v}`,$&&$!==g.label&&$.length>0&&(u+=` - ${$}`)):v!==null?(u+=` - Episode ${v}`,$&&$!==g.label&&$.length>0&&(u+=` - ${$}`)):u+=` - ${g.label}`}S.push({name:"Tamilblasters",title:`Tamilblasters (Instant) (${w.quality})
\u{1F4FC}: ${u} (${G})
\u{1F310}: ${w.audios.join(" / ")||"TAMIL"}`,url:w.url,quality:w.quality,headers:N,provider:"tamilblasters"})}})))}catch(f){}}))),console.log(`[Tamilblasters] \u2728 Completed. Found ${S.length} playable streams.`),S}catch(n){return console.error(`[Tamilblasters] Fatal Error: ${n.message}`),[]}})}typeof module!="undefined"&&module.exports?module.exports={search:X,getStreams:Y}:global.getStreams={search:X,getStreams:Y};
