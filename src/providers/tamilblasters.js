/**
 * tamilblasters - Built from src/tamilblasters/
 * Generated: 2026-01-18T10:07:33.696Z
 */
var O=Object.defineProperty,H=Object.defineProperties;var K=Object.getOwnPropertyDescriptors;var B=Object.getOwnPropertySymbols;var Y=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var z=(i,t,e)=>t in i?O(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,C=(i,t)=>{for(var e in t||(t={}))Y.call(t,e)&&z(i,e,t[e]);if(B)for(var e of B(t))j.call(t,e)&&z(i,e,t[e]);return i},U=(i,t)=>H(i,K(t));var S=(i,t,e)=>new Promise((o,l)=>{var h=n=>{try{f(e.next(n))}catch(u){l(u)}},s=n=>{try{f(e.throw(n))}catch(u){l(u)}},f=n=>n.done?o(n.value):Promise.resolve(n.value).then(h,s);f((e=e.apply(i,t)).next())});var F=require("cheerio-without-node-native"),X="1b3113663c9004682ed61086cf967c44",G="https://api.themoviedb.org/3",E="https://www.1tamilblasters.business",M={"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36",Referer:`${E}/`,Accept:"*/*","Accept-Language":"en-US,en;q=0.9","Sec-Fetch-Dest":"empty","Sec-Fetch-Mode":"cors","Sec-Fetch-Site":"cross-site"};function I(o){return S(this,arguments,function*(i,t={},e=1e4){let l=new AbortController,h=setTimeout(()=>l.abort(),e);try{let s=yield fetch(i,U(C({},t),{signal:l.signal}));return clearTimeout(h),s}catch(s){throw clearTimeout(h),s}})}function Q(e){return S(this,arguments,function*(i,t={}){try{let o=yield I(i,{method:"GET",headers:t},5e3);return o.ok||o.status===206}catch(o){return!1}})}function J(i){try{return typeof atob!="undefined"?atob(i.trim()):Buffer.from(i.trim(),"base64").toString("binary")}catch(t){return null}}function V(i,t,e,o){for(;e--;)o[e]&&(i=i.replace(new RegExp("\\b"+e.toString(t)+"\\b","g"),o[e]));return i}function _(i){return(i||"").toLowerCase().replace(/[^a-z0-9\s]/g,"").replace(/\s+/g," ").trim()}function D(i,t){let e=_(i),o=_(t);if(e===o)return 1;if(e.includes(o)||o.includes(e))return .9;let l=new Set(e.split(/\s+/).filter(n=>n.length>2)),h=new Set(o.split(/\s+/).filter(n=>n.length>2));if(l.size===0||h.size===0)return 0;let s=new Set([...l].filter(n=>h.has(n))),f=new Set([...l,...h]);return s.size/f.size}function Z(i,t){let{title:e,year:o}=i,{quality:l,type:h,size:s,language:f,seasonCode:n,episodeCode:u,label:m,audioInfo:r}=t,a=o||t.matchYear,c=a?` (${a})`:"",p=!!(n||u),d=`\u{1F4FC}: ${e}${c}`;p?(d+=` - ${n||"S01"} ${u||""}`,m&&!m.toLowerCase().includes("stream")&&!m.includes(u)&&(d+=` (${m})`)):m&&!m.toLowerCase().includes("stream")&&(d+=` (${m})`),d+=` - ${l!=="Unknown"?l:""}`;let x=h&&h!=="UNKNOWN"?`\u{1F4FA}: ${h}
`:"",k=s&&s!=="UNKNOWN"?`\u{1F4BE}: ${s} | \u{1F69C}: tamilblasters
`:"",A=f||"TAMIL";return r&&(A=r),`Tamilblasters (Instant) (${l})
${x}${d}
${k}\u{1F310}: ${A.toUpperCase()}`}var N=class{static extract(t,e=0){return S(this,null,function*(){if(e>2)return null;try{let l=yield(yield I(t,{headers:U(C({},M),{Referer:E})},5e3)).text(),h=new URL(t).origin,s=l.match(new RegExp("eval\\(function\\(p,a,c,k,e,d\\)\\{.*?\\}\\s*\\((.*)\\)\\s*\\)","s"));if(s){let r=s[1].trim().match(new RegExp("^'(.*)',\\s*(\\d+),\\s*(\\d+),\\s*'(.*?)'\\.split\\(","s"));r&&(l+=`
`+V(r[1],parseInt(r[2]),parseInt(r[3]),r[4].split("|")))}let f=[/["']hls[2-4]["']\s*:\s*["']([^"']+)["']/gi,/sources\s*:\s*\[\s*{\s*file\s*:\s*["']([^"']+)["']/gi,/https?:\/\/[^\s"']+\.m3u8[^\s"']*/gi,/["'](\/[^\s"']+\.m3u8[^\s"']*)["']/gi,/["']?file["']?\s*:\s*["']([^"']+)["']/gi],n=[];for(let r of f){let a=l.match(r);a&&a.forEach(c=>{let p=c.replace(/^.*?["']/,"").replace(/["'].*$/,"");p.startsWith("/")&&!p.startsWith("//")&&(p=h+p),(p.includes(".m3u8")||p.includes(".mp4"))&&n.push(p)})}let u=l.match(/[A-Za-z0-9+/]{24,}=*/g);if(u&&u.forEach(r=>{let a=J(r);a&&(a.includes(".m3u8")||a.startsWith("http"))&&n.push(a)}),n.length>0){n.sort((a,c)=>(c.includes("?")?1:0)-(a.includes("?")?1:0)||c.length-a.length);let r=n[0];return console.log(`[Tamilblasters] Winner Discovered: ${r}`),yield this.resolveManifest(r,t)}let m=l.matchAll(/href\s*=\s*["'](https?:\/\/[^"']*\/(?:stream|file|d|v|e)\/[^"']+)["']/gi);for(let r of m){console.log(`[Tamilblasters] Following Discovery Jump: ${r[1]}`);let a=yield this.extract(r[1],e+1);if(a)return a}return null}catch(o){return null}})}static resolveManifest(t,e){return S(this,null,function*(){var o;try{let l=new URL(e).origin+"/",s=yield(yield I(t,{headers:U(C({},M),{Referer:l})},5e3)).text(),f=[],n=[],u=new URL(t).search,m=s.matchAll(/#EXT-X-MEDIA:TYPE=AUDIO.*?NAME="([^"]+)"/g);for(let a of m)n.includes(a[1])||n.push(a[1]);let r=s.matchAll(/#EXT-X-STREAM-INF:.*?RESOLUTION=\d+x(\d+).*?\n(.*)/gi);for(let a of r){let c=a[2].trim();c.startsWith("http")||(c=t.substring(0,t.lastIndexOf("/")+1)+c),u&&!c.includes("?")&&(c+=u),f.push({url:c,quality:this.heightToQuality(a[1])})}return{url:(f.length>0,t),quality:f.length>0?f[0].quality:((o=s.match(/\b(2160|1080|720|480)p?\b/i))==null?void 0:o[0])||"Unknown",audios:n,referer:l,origin:new URL(l).origin}}catch(l){return null}})}static heightToQuality(t){return t=parseInt(t),t>=2160?"4K":t>=1080?"1080p":t>=720?"720p":t>=480?"480p":t+"p"}};function W(i){return S(this,null,function*(){let t=`${E}/?s=${encodeURIComponent(i)}`;console.log(`[Tamilblasters] Searching: ${t}`);try{let e=yield I(t,{headers:M},8e3);if(e.url&&!e.url.includes(new URL(E).hostname))try{let s=new URL(e.url);s.protocol.startsWith("http")&&(console.log(`[Tamilblasters] Domain redirect detected: ${E} -> ${s.origin}`),E=s.origin,M.Referer=`${E}/`)}catch(s){}let o=yield e.text(),l=F.load(o),h=[];return l(".posts-wrapper article, .nv-index-posts article, article.post").each((s,f)=>{let n=l(f).find("h2.entry-title a, h1.entry-title a"),u=n.text().trim(),m=n.attr("href");u&&m&&h.push({title:u,href:m})}),h.length===0&&l(".ipsStreamItem_title a").each((s,f)=>{let n=l(f),u=n.attr("href");u&&u.includes("/forums/topic/")&&h.push({title:n.text().trim(),href:u})}),h}catch(e){return console.error(`[Tamilblasters] Search error: ${e.message}`),[]}})}function q(i,t="movie",e=null,o=null){return S(this,null,function*(){let l=t==="tv"||t==="tvshow"?"tv":"movie",h=/^\d+$/.test(String(i));console.log(`[Tamilblasters] \u{1F680} Starting High-Speed Fetch for ${l}: ${i}`);try{let s={title:String(i),year:null};if(h){let r=0;for(;r<3;)try{let a=yield I(`${G}/${l}/${i}?api_key=${X}`);if(!a.ok)throw new Error(`HTTP ${a.status}`);let c=yield a.json();s={title:c.title||c.name,year:(c.release_date||c.first_air_date||"").split("-")[0]},console.log(`[Tamilblasters] TMDB Resolved: ${s.title} (${s.year})`);break}catch(a){r++,console.log(`[Tamilblasters] TMDB Attempt ${r} failed: ${a.message}`),r<3&&(yield new Promise(c=>setTimeout(c,1e3)))}}let f=yield W(s.title);f.length===0&&h&&(f=yield W(i));let n=f.filter(r=>{let a=D(s.title,r.title),c=!s.year||l==="tv"||r.title.includes(s.year)||r.title.includes(String(parseInt(s.year)+1))||r.title.includes(String(parseInt(s.year)-1));return a>.4&&c}).sort((r,a)=>{let c=r.title.toLowerCase().includes("watch online")?1:0,p=a.title.toLowerCase().includes("watch online")?1:0;return c!==p?p-c:D(s.title,a.title)-D(s.title,r.title)}).slice(0,5);if(n.length===0)return[];let u=[],m=10;for(let r of n){if(u.length>=m)break;try{let c=yield(yield I(r.href,{headers:M})).text(),p=F.load(c),d=p("h1.entry-title").text().trim()||p("h1.ipsType_pageTitle").text().trim()||r.title,x=(d+" "+r.title).match(/\(?(\d{4})\)?/),k=x?x[1]:s.year||"N/A",A=[];p("iframe").each((y,v)=>{let T=p(v).attr("src");if(!T||T.includes("google")||T.includes("youtube"))return;let w=`Stream ${y+1}`,b=p(v);for(let g=0;g<5;g++){let L=b.prev();if(L.length===0){if(b=b.parent(),!b.length||b.is("body"))break;continue}let R=L.text().trim();if(R.toLowerCase().includes("episode")||R.match(/EP\d+/i)||R.match(/\(\d+-\d+\)/)||R.toLowerCase().includes("stream")){w=R.replace(/[\r\n]+/g," ").trim();break}b=L}if(w.toLowerCase().includes("episode")){let g=w.match(/Episode\s*[–-ー]\s*(\d+)/i)||w.match(/Episode\s*(\d+)/i)||w.match(/EP\s*(\d+)/i);g&&(w=`EP${g[1]}`)}A.push({url:T,label:w})}),yield Promise.all(A.map(y=>S(this,null,function*(){var P;if(u.length>=m)return;let v=y.label.match(/S(\d+)/i)||y.label.match(/Season\s*(\d+)/i),T=y.label.match(/E(\d+)/i)||y.label.match(/Episode\s*(\d+)/i)||y.label.match(/EP\s*(\d+)/i)||y.label.match(/–\s*(\d+)/),w=v?parseInt(v[1]):null,b=T?parseInt(T[1]):null;if(w===null){let $=(d+" "+r.title).match(/S(\d+)/i)||(d+" "+r.title).match(/Season\s*(\d+)/i);$&&(w=parseInt($[1]))}if(b===null){let $=(d+" "+r.title).match(/E(\d+)/i)||(d+" "+r.title).match(/Episode\s*(\d+)/i)||(d+" "+r.title).match(/EP\s*(\d+)/i);$&&(b=parseInt($[1]))}if(l==="tv"){if(e!==null&&w!==null&&w!==e)return;if(o!==null&&b!==null&&b!==o){let $=y.label.match(/(\d+)-(\d+)/)||d.match(/(\d+)-(\d+)/);if($){if(o<parseInt($[1])||o>parseInt($[2]))return}else return}}let g=yield N.extract(y.url);if(!g)return;let L=U(C({},M),{Referer:g.referer||y.url,Origin:g.origin||new URL(y.url).origin});if(yield Q(g.url,L)){let $={title:s.title,quality:g.quality,type:d.toUpperCase().includes("BLURAY")?"BluRay":d.toUpperCase().includes("WEB-DL")?"WEB-DL":d.toUpperCase().includes("WEBRIP")?"WEBRip":"HDRip",size:(((P=d.match(/(\d+\.?\d*\s*[mMgG][bB])/))==null?void 0:P[1])||"UNKNOWN").toUpperCase(),language:g.audios.join(" / ")||"TAMIL",seasonCode:w?`S${w.toString().padStart(2,"0")}`:e?`S${e.toString().padStart(2,"0")}`:null,episodeCode:b?`E${b.toString().padStart(2,"0")}`:o?`E${o.toString().padStart(2,"0")}`:null,label:y.label,audioInfo:g.audios.length>0?g.audios.join(", "):"",matchYear:k};u.push({name:"Tamilblasters",title:Z(s,$),url:g.url,quality:g.quality,headers:L,provider:"tamilblasters"})}})))}catch(a){console.error(`[Tamilblasters] Error processing match: ${a.message}`)}}return console.log(`[Tamilblasters] Returning ${u.length} streams`),u}catch(s){return console.error(`[Tamilblasters] Fatal Error: ${s.message}`),[]}})}typeof module!="undefined"&&module.exports?module.exports={search:W,getStreams:q}:global.getStreams={search:W,getStreams:q};
