/**
 * tamilblasters - Built from src/tamilblasters/
 * Generated: 2026-01-17T05:12:39.428Z
 */
var Y=Object.defineProperty,G=Object.defineProperties;var K=Object.getOwnPropertyDescriptors;var C=Object.getOwnPropertySymbols;var Q=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable;var j=(s,t,e)=>t in s?Y(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,D=(s,t)=>{for(var e in t||(t={}))Q.call(t,e)&&j(s,e,t[e]);if(C)for(var e of C(t))J.call(t,e)&&j(s,e,t[e]);return s},_=(s,t)=>G(s,K(t));var v=(s,t,e)=>new Promise((a,c)=>{var h=l=>{try{p(e.next(l))}catch(y){c(y)}},n=l=>{try{p(e.throw(l))}catch(y){c(y)}},p=l=>l.done?a(l.value):Promise.resolve(l.value).then(h,n);p((e=e.apply(s,t)).next())});var B=require("cheerio-without-node-native"),Z="1b3113663c9004682ed61086cf967c44",V="https://api.themoviedb.org/3",q="https://www.1tamilblasters.business",k={"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:147.0) Gecko/20100101 Firefox/147.0",Referer:`${q}/`,Accept:"*/*","Accept-Language":"en-US,en;q=0.9","Sec-Fetch-Dest":"empty","Sec-Fetch-Mode":"cors","Sec-Fetch-Site":"cross-site"};function R(a){return v(this,arguments,function*(s,t={},e=1e4){let c=new AbortController,h=setTimeout(()=>c.abort(),e);try{let n=yield fetch(s,_(D({},t),{signal:c.signal}));return clearTimeout(h),n}catch(n){throw clearTimeout(h),n}})}function tt(e){return v(this,arguments,function*(s,t={}){try{let a=yield R(s,{method:"GET",headers:t},5e3);return a.ok||a.status===206}catch(a){return!1}})}function et(s){try{return typeof atob!="undefined"?atob(s.trim()):Buffer.from(s.trim(),"base64").toString("binary")}catch(t){return null}}function st(s,t,e,a){for(;e--;)a[e]&&(s=s.replace(new RegExp("\\b"+e.toString(t)+"\\b","g"),a[e]));return s}function H(s){return(s||"").toLowerCase().replace(/[^a-z0-9\s]/g,"").replace(/\s+/g," ").trim()}function nt(s,t){let e=H(s),a=H(t);if(e===a)return 1;if(e.includes(a)||a.includes(e))return .9;let c=new Set(e.split(/\s+/).filter(l=>l.length>2)),h=new Set(a.split(/\s+/).filter(l=>l.length>2));if(c.size===0||h.size===0)return 0;let n=new Set([...c].filter(l=>h.has(l))),p=new Set([...c,...h]);return n.size/p.size}var W=class{static extract(t,e=0){return v(this,null,function*(){if(e>2)return null;try{let c=yield(yield R(t,{headers:_(D({},k),{Referer:q})},5e3)).text(),h=new URL(t).origin,n=c.match(new RegExp("eval\\(function\\(p,a,c,k,e,d\\)\\{.*?\\}\\s*\\((.*)\\)\\s*\\)","s"));if(n){let r=n[1].trim().match(new RegExp("^'(.*)',\\s*(\\d+),\\s*(\\d+),\\s*'(.*?)'\\.split\\(","s"));r&&(c+=`
`+st(r[1],parseInt(r[2]),parseInt(r[3]),r[4].split("|")))}let p=[/["']hls[2-4]["']\s*:\s*["']([^"']+)["']/gi,/sources\s*:\s*\[\s*{\s*file\s*:\s*["']([^"']+)["']/gi,/https?:\/\/[^\s"']+\.m3u8[^\s"']*/gi,/["'](\/[^\s"']+\.m3u8[^\s"']*)["']/gi,/["']?file["']?\s*:\s*["']([^"']+)["']/gi],l=[];for(let r of p){let i=c.match(r);i&&i.forEach(E=>{let S=E.replace(/^.*?["']/,"").replace(/["'].*$/,"");S.startsWith("/")&&!S.startsWith("//")&&(S=h+S),(S.includes(".m3u8")||S.includes(".mp4"))&&l.push(S)})}let y=c.match(/[A-Za-z0-9+/]{24,}=*/g);if(y&&y.forEach(r=>{let i=et(r);i&&(i.includes(".m3u8")||i.startsWith("http"))&&l.push(i)}),l.length>0){l.sort((i,E)=>(E.includes("?")?1:0)-(i.includes("?")?1:0)||E.length-i.length);let r=l[0];return console.log(`[Tamilblasters] Winner Discovered: ${r}`),yield this.resolveManifest(r,t)}let I=c.matchAll(/href\s*=\s*["'](https?:\/\/[^"']*\/(?:stream|file|d|v|e)\/[^"']+)["']/gi);for(let r of I){console.log(`[Tamilblasters] Following Discovery Jump: ${r[1]}`);let i=yield this.extract(r[1],e+1);if(i)return i}return null}catch(a){return null}})}static resolveManifest(t,e){return v(this,null,function*(){try{let a=new URL(e).origin+"/",h=yield(yield R(t,{headers:_(D({},k),{Referer:a})},5e3)).text(),n=[],p=[],l=new URL(t).search,y=h.matchAll(/#EXT-X-MEDIA:TYPE=AUDIO.*?NAME="([^"]+)"/g);for(let r of y)p.includes(r[1])||p.push(r[1]);let I=h.matchAll(/#EXT-X-STREAM-INF:.*?RESOLUTION=\d+x(\d+).*?\n(.*)/gi);for(let r of I){let i=r[2].trim();i.startsWith("http")||(i=t.substring(0,t.lastIndexOf("/")+1)+i),l&&!i.includes("?")&&(i+=l),n.push({url:i,quality:this.heightToQuality(r[1])})}return{url:(n.length>0,t),quality:n.length>0?n[0].quality:"Unknown",audios:p,referer:a,origin:new URL(a).origin}}catch(a){return null}})}static heightToQuality(t){return t=parseInt(t),t>=2160?"4K":t>=1080?"1080p":t>=720?"720p":t>=480?"480p":t+"p"}};function O(s,t="movie",e=null,a=null){return v(this,null,function*(){let c=/^\d+$/.test(s),h=c?null:s;console.log(`[Tamilblasters] \u{1F680} Starting High-Speed Fetch for ${t}: ${s}`);try{let n;if(c){let g=0;for(;g<3;)try{let f=yield R(`${V}/${t==="movie"?"movie":"tv"}/${s}?api_key=${Z}`);if(!f.ok)throw new Error(`HTTP ${f.status}`);let u=yield f.json();n={title:u.title||u.name,year:(u.release_date||u.first_air_date||"").split("-")[0]},console.log(`[Tamilblasters] TMDB Resolved: ${n.title} (${n.year})`);break}catch(f){g++,console.log(`[Tamilblasters] TMDB Attempt ${g} failed: ${f.message}`),g<3&&(yield new Promise(u=>setTimeout(u,1e3)))}n||(console.log("[Tamilblasters] TMDB Failed after 3 attempts, falling back."),n={title:s,year:null})}else n={title:s,year:null};let p=`${q}/?s=${encodeURIComponent(n.title)}`,y=yield(yield R(p,{headers:k})).text(),I=B.load(y),r=[];if(I(".posts-wrapper article, .nv-index-posts article").each((g,f)=>{let u=I(f).find("h2.entry-title a");u.length&&r.push({title:u.text().trim(),href:u.attr("href")})}),r.length===0&&c){console.log("[Tamilblasters] 0 results for title, trying numeric search...");let f=yield(yield R(`${q}/?s=${s}`,{headers:k})).text(),u=B.load(f);I(".posts-wrapper article, .nv-index-posts article").each((L,$)=>{let A=u($).find("h2.entry-title a");A.length&&r.push({title:A.text().trim(),href:A.attr("href")})})}console.log(`[Tamilblasters] Found ${r.length} search results`);let i=r.filter(g=>{let f=nt(n.title,g.title),u=!n.year||g.title.includes(n.year);return console.log(`[Tamilblasters] Candidate Match: "${g.title}" (Score: ${f.toFixed(2)}, YearMatch: ${u})`),f>.4&&u}).slice(0,3);if(i.length===0)return[];let E=[],S=30;return yield Promise.all(i.map(g=>v(this,null,function*(){try{let u=yield(yield R(g.href,{headers:k})).text(),L=B.load(u),$=L("h1.entry-title").text().trim()||g.title,A=$.match(/\(?(\d{4})\)?/),X=A?A[1]:n.year||"N/A",N=[];L("iframe").each((m,P)=>{let M=L(P).attr("src");if(!M||M.includes("google")||M.includes("youtube"))return;let T=`Stream ${m+1}`,d=L(P);for(let F=0;F<5;F++){let x=d.prev();if(x.length===0){if(d=d.parent(),!d.length||d.is("body"))break;continue}let b=x.text().trim();if(b.toLowerCase().includes("episode")||b.match(/EP\d+/i)||b.match(/\(\d+-\d+\)/)){T=b;break}d=x}console.log(`[Tamilblasters] Found Embed: ${M.substring(0,30)}... (Label: ${T})`),N.push({url:M,label:T})}),yield Promise.all(N.map(m=>v(this,null,function*(){if(E.length>=S)return;let P=m.label.match(/S(\d+)/i)||m.label.match(/Season\s*(\d+)/i),M=m.label.match(/E(\d+)/i)||m.label.match(/Episode\s*(\d+)/i)||m.label.match(/EP\s*(\d+)/i)||m.label.match(/–\s*(\d+)/),T=P?parseInt(P[1]):null,d=M?parseInt(M[1]):null;if(T===null){let o=$.match(/S(\d+)/i)||$.match(/Season\s*(\d+)/i);o&&(T=parseInt(o[1]))}if(d===null){let o=$.match(/E(\d+)/i)||$.match(/Episode\s*(\d+)/i)||$.match(/EP\s*(\d+)/i);o&&(d=parseInt(o[1]))}if(e!==null&&T!==null&&T!==e)return;if(a!==null){if(d!==null&&d!==a){let o=m.label.match(/(\d+)-(\d+)/);if(o){let w=parseInt(o[1]),z=parseInt(o[2]);if(a<w||a>z)return}else return}if(d===null){let o=$.match(/EP\((\d+)-(\d+)\)/)||$.match(/\((\d+)-(\d+)\)/);if(o){let w=parseInt(o[1]),z=parseInt(o[2]);if(a<w||a>z)return}}}let F=T!==null?T:e,x=d!==null?d:a,b=yield W.extract(m.url);if(!b)return;let U=_(D({},k),{Referer:b.referer,Origin:b.origin});if(yield tt(b.url,U)){let o=n.title;if(t==="tv"){let w=m.label.replace(/^(?:Episode|EP|S\d+E\d+)\s*\d*\s*[–-]?\s*/i,"").trim();F!==null&&x!==null?(o+=` - S${F} E${x}`,w&&w!==m.label&&w.length>0&&(o+=` - ${w}`)):x!==null?(o+=` - Episode ${x}`,w&&w!==m.label&&w.length>0&&(o+=` - ${w}`)):o+=` - ${m.label}`}E.push({name:"Tamilblasters",title:`Tamilblasters (Instant) (${b.quality})
\u{1F4FC}: ${o} (${X})
\u{1F310}: ${b.audios.join(" / ")||"TAMIL"}`,url:b.url,quality:b.quality,headers:U,provider:"Tamilblasters"})}})))}catch(f){}}))),console.log(`[Tamilblasters] \u2728 Completed. Found ${E.length} playable streams.`),E}catch(n){return console.error(`[Tamilblasters] Fatal Error: ${n.message}`),[]}})}typeof module!="undefined"&&module.exports?module.exports={getStreams:O}:global.getStreams={getStreams:O};
